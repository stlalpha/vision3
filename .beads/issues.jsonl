{"id":"vision3-0ab","title":"fix: S key help text wrong in message reader","description":"internal/menu/message_reader.go:1187: Help text says '|15S|07kip to Next Area' but S actually navigates to the previous message (line 36 lightbar label and line 478 handler both confirm Prev). Fix to '|15S|07 (Prev Message)'. (CodeRabbit PR #26)","status":"closed","priority":3,"issue_type":"bug","owner":"robbiew@gmail.com","created_at":"2026-02-23T13:59:15.08957375Z","created_by":"RobbieW","updated_at":"2026-02-23T14:16:51.19956582Z","closed_at":"2026-02-23T14:16:51.19956582Z","close_reason":"Closed","labels":["fix","reader"]}
{"id":"vision3-0hv","title":"VIS-48: ZIPLAB_VIEW — archive viewer with extraction","status":"closed","priority":2,"issue_type":"feature","owner":"jim.mcbride@gmail.com","created_at":"2026-02-14T06:52:39.133998-06:00","created_by":"Jim McBride","updated_at":"2026-02-14T07:19:37.242968-06:00","closed_at":"2026-02-14T07:19:37.242968-06:00","close_reason":"ZIPLAB_VIEW implemented: interactive archive viewer with numbered listing, single-file ZMODEM extraction, V key routing"}
{"id":"vision3-10l","title":"Create runDeleteUser function","description":"Create a new runDeleteUser function in executor.go similar to runBanUser. It should:\n- Show user lightbar browser with title 'Delete User'\n- Confirm deletion action\n- Set DeletedUser=true and DeletedAt=current timestamp\n- Save the changes\nRegister this as 'DELETEUSER' in the command registry.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-14T00:34:57.033575598Z","created_by":"RobbieW","updated_at":"2026-02-14T00:43:14.284013669Z","closed_at":"2026-02-14T00:43:14.284013669Z","close_reason":"Closed","labels":["feature"]}
{"id":"vision3-1ah","title":"VIS-52: Implement password change","status":"closed","priority":2,"issue_type":"task","owner":"jim.mcbride@gmail.com","created_at":"2026-02-15T21:56:11.015943-06:00","created_by":"Jim McBride","updated_at":"2026-02-15T22:04:26.022659-06:00","closed_at":"2026-02-15T22:04:26.022659-06:00","close_reason":"Closed"}
{"id":"vision3-1fd","title":"VIS-52: User Config Menu - Add User preference fields","status":"closed","priority":2,"issue_type":"task","owner":"jim.mcbride@gmail.com","created_at":"2026-02-15T21:56:10.359844-06:00","created_by":"Jim McBride","updated_at":"2026-02-15T21:56:49.864074-06:00","closed_at":"2026-02-15T21:56:49.864074-06:00","close_reason":"Closed"}
{"id":"vision3-1hq","title":"VIS-10: Fix output mode TODOs in door error handlers","description":"Two DOOR error handlers in executor.go default to OutputModeCP437 instead of accepting the correct outputMode from context. Fix to use the session's actual output mode.","status":"closed","priority":1,"issue_type":"bug","owner":"jim.mcbride@gmail.com","created_at":"2026-02-14T02:09:11.12998-06:00","created_by":"Jim McBride","updated_at":"2026-02-14T02:09:54.101824-06:00","closed_at":"2026-02-14T02:09:54.101824-06:00","close_reason":"Closed"}
{"id":"vision3-1i8","title":"Add allowNewUsers config option to gate new user registration","description":"Add an 'allowNewUsers' (bool) field to ServerConfig in config.json. When false, all new user registration entry points should display a configurable message and return to the previous screen instead of running the registration flow. Entry points: (1) handleNewUserApplication() in newuser.go, (2) NEWUSER in matrix.go, (3) typing 'new' in runAuthenticate() executor.go:1209, (4) typing 'new' in handleLoginPrompt() executor.go:2110, (5) RUN:NEWUSER command in runNewUser(). Add a configurable string 'newUsersClosedStr' to StringsConfig. Default allowNewUsers to true for backward compatibility. Add tests for config loading and the gate check.","status":"closed","priority":2,"issue_type":"feature","owner":"robbiew@gmail.com","created_at":"2026-02-18T02:47:17.350656164Z","created_by":"RobbieW","updated_at":"2026-02-18T02:53:25.035880838Z","closed_at":"2026-02-18T02:53:25.035880838Z","close_reason":"Closed"}
{"id":"vision3-1j6","title":"Door program execution and dosemu2 support","description":"Implemented complete door program execution system including documentation and support files for dosemu2.\n\nRelated commit:\n- e317d01: DOOR PROGRAM execution, documentation and support files for dosemu2\n\nFeatures:\n- External program execution with PTY\n- Dropfile generation (DOOR.SYS, CHAIN.TXT)\n- Placeholder substitution\n- Terminal mode switching","status":"closed","priority":2,"issue_type":"feature","owner":"robbiew@gmail.com","created_at":"2026-02-13T13:03:26.548801715Z","created_by":"RobbieW","updated_at":"2026-02-13T13:03:54.824236043Z","closed_at":"2026-02-13T13:03:54.824236043Z","close_reason":"Closed"}
{"id":"vision3-1m6","title":"Invisible Login option for SysOp/CoSysOp","description":"When a SysOp/CoSysOp user logs on, prompt 'Invisible Logon? Y/n' using canonical lightbar. If yes: hidden from Last Callers list, Who's Online, Chat/Page to non-SysOp/CoSysOp users. Other SysOp/CoSysOp users can still see and page them. Call is still logged in callhistory.json but flagged as invisible.","status":"closed","priority":1,"issue_type":"feature","owner":"robbiew@gmail.com","created_at":"2026-02-20T00:52:24.534141905Z","created_by":"RobbieW","updated_at":"2026-02-20T02:46:15.802115071Z","closed_at":"2026-02-20T02:46:15.802115071Z","close_reason":"Implemented: invisible login prompt for CoSysOp+, hidden from Last Callers/Who's Online/Chat/Page for regular users. CallRecord flagged. All changes uncommitted on feature/dev."}
{"id":"vision3-1vu","title":"Docker: build all binaries (v3mail, helper, strings)","status":"closed","priority":1,"issue_type":"bug","owner":"robbiew@gmail.com","created_at":"2026-02-21T15:50:03.125614492Z","created_by":"RobbieW","updated_at":"2026-02-21T16:07:56.935295391Z","closed_at":"2026-02-21T16:07:56.935295391Z","close_reason":"Closed"}
{"id":"vision3-26r","title":"Fix goroutine leak in door_handler.go resize drain","description":"door_handler.go line 698: resize drain goroutine has no shutdown signal, leaks on every door run.","status":"closed","priority":1,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:38:29.972475007Z","created_by":"RobbieW","updated_at":"2026-02-19T19:40:26.724604562Z","closed_at":"2026-02-19T19:40:26.724604562Z","close_reason":"Closed"}
{"id":"vision3-28b","title":"Sanitize filenames and descriptions to prevent ANSI/control injection","status":"closed","priority":1,"issue_type":"bug","owner":"jim.mcbride@gmail.com","created_at":"2026-02-14T02:41:48.250019-06:00","created_by":"Jim McBride","updated_at":"2026-02-14T05:50:47.886106-06:00","closed_at":"2026-02-14T05:50:47.886106-06:00","close_reason":"Closed"}
{"id":"vision3-29m","title":"Add visual indicator for deleted users","description":"In runAdminListUsers, update the status display to show 'DEL' for deleted users alongside existing 'NV' (not validated) and 'OK' statuses. This helps SysOps identify deleted accounts at a glance.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-14T00:35:06.624068819Z","created_by":"RobbieW","updated_at":"2026-02-14T00:40:44.572457255Z","closed_at":"2026-02-14T00:40:44.572457255Z","close_reason":"Closed","labels":["feature"]}
{"id":"vision3-2cr","title":"Phase 2: remove remaining menu encoding bypass writes","status":"closed","priority":1,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-13T19:54:28.363666905Z","created_by":"RobbieW","updated_at":"2026-02-13T19:56:36.132953095Z","closed_at":"2026-02-13T19:56:36.132953095Z","close_reason":"Closed"}
{"id":"vision3-34w","title":"Fix runChat ignoring passed termHeight","description":"chat.go lines 20-35: unconditionally defaults to 24 instead of using passed termHeight parameter.","status":"closed","priority":1,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:38:33.154214098Z","created_by":"RobbieW","updated_at":"2026-02-19T19:40:26.972702513Z","closed_at":"2026-02-19T19:40:26.972702513Z","close_reason":"Closed"}
{"id":"vision3-37q","title":"transfer: move protocol config to configs/protocols.json with user-defined protocol support","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T21:04:33.433916031Z","created_by":"RobbieW","updated_at":"2026-02-21T21:18:31.620881648Z","closed_at":"2026-02-21T21:18:31.620881648Z","close_reason":"Closed"}
{"id":"vision3-3e4","title":"fix: non-EOF errors silently ignored in login prompts","description":"cmd/vision3/main.go: Three spots silently drop non-EOF errors: (1) line 1221 PromptYesNo invisible logon, (2) line 1256 PromptYesNo terminal size, (3) line 1364 'if heightErr == nil' should also handle EOF gracefully. Add WARN logs for non-EOF cases. (CodeRabbit PR #26)","status":"closed","priority":3,"issue_type":"bug","owner":"robbiew@gmail.com","created_at":"2026-02-23T13:59:14.950204672Z","created_by":"RobbieW","updated_at":"2026-02-23T14:28:42.662031564Z","closed_at":"2026-02-23T14:28:42.662031564Z","close_reason":"Closed","labels":["fix","login"]}
{"id":"vision3-3l8","title":"Audit and fix UTF-8/CP437 output path consistency","status":"closed","priority":1,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-13T19:48:44.982797351Z","created_by":"RobbieW","updated_at":"2026-02-13T19:53:42.656764656Z","closed_at":"2026-02-13T19:53:42.656764656Z","close_reason":"Closed"}
{"id":"vision3-3wr","title":"Fix placeholder visual-width overcounting","description":"placeholder.go lines 55-69: width includes @ delimiters instead of just # character count.","status":"closed","priority":1,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:38:33.665736355Z","created_by":"RobbieW","updated_at":"2026-02-19T19:41:12.435158757Z","closed_at":"2026-02-19T19:41:12.435158757Z","close_reason":"Closed"}
{"id":"vision3-4dy","title":"Fix cursor position clamping in placeholder.go CSI moves","description":"internal/ansi/placeholder.go ~lines 136-173: ESC[A and ESC[D can drive row/col below 1, causing placeholder positions to be dropped.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:45:29.538931425Z","created_by":"RobbieW","updated_at":"2026-02-19T19:48:33.381866235Z","closed_at":"2026-02-19T19:48:33.381866235Z","close_reason":"Closed"}
{"id":"vision3-4ji","title":"Replace One Liners with Retrograde-style template flow","description":"Rebuild Vision3 ONELINER flow to match Retrograde UX (functions, colors, art) using Vision3 template system instead of Python script. Preserve anonymous posting option for users while recording real poster identity in JSON for sysop visibility.","status":"closed","priority":2,"issue_type":"feature","owner":"robbiew@gmail.com","created_at":"2026-02-13T17:20:04.313502556Z","created_by":"RobbieW","updated_at":"2026-02-13T17:35:30.362305145Z","closed_at":"2026-02-13T17:35:30.362305145Z","close_reason":"Closed"}
{"id":"vision3-4tw","title":"tosser: link flavour (Crash/Hold/Normal) and BSO flow file generation","description":"HPT supports per-link echomailFlavour (Crash/Direct/Hold/Normal). Currently jamutil hardcodes MsgAttrLocal for all outbound packets and does not create BSO flow files. Crash flavour is important: it instructs binkd to immediately call the destination node after mail is queued.\n\nBSO OUTBOUND FLAVOURS:\n- Normal: binkd delivers on next scheduled poll (default)\n- Crash:  binkd attempts immediate delivery. Signalled via .clo flow file or naming convention\n- Hold:   mail held for manual pickup. Signalled via .hlo file\n- Direct: point-to-point, don't re-route\n\nCURRENT BEHAVIOUR (pack.go):\n- Creates NNNNFFFF.DOW0 bundle in binkd_outbound_path (e.g., 00040096.mo0)\n- Always Normal flavour — binkd only delivers on next scheduled interval\n- No .clo / .hlo flow files created\n\nREQUIRED BEHAVIOUR:\n1. Add flavour field to FTNLinkConfig:\n     type FTNLinkConfig struct {\n         ...\n         Flavour string  // Normal|Crash|Hold|Direct (default: Normal)\n     }\n2. In ftn-pack (pack.go):\n   - For Crash links: create/append to NNNNFFFF.clo flow file listing bundle path\n   - For Hold links: create/append to NNNNFFFF.hlo flow file\n   - Normal: current bundle creation is correct, no flow file needed\n   - .clo/.hlo files contain a list of bundle absolute paths (one per line)\n3. PackedMessage Attr field should reflect flavour:\n   - Crash: set MsgAttrCrash (0x0002) | MsgAttrLocal (0x0100)\n   - Hold:  set MsgAttrHold (0x0200) | MsgAttrLocal (0x0100)\n   - Normal: MsgAttrLocal (0x0100)\n\nFLOW FILE FORMAT (BSO):\n  /opt/vision3/data/ftn/out/00040096.clo\n  Contents: one line per bundle file path, e.g.:\n  /opt/vision3/data/ftn/out/00040096.mo0\n\nCONFIG EXAMPLE:\n  \"links\": [{\n    \"address\": \"21:4/158\",\n    \"flavour\": \"Crash\",\n    ...\n  }]\n\nREFERENCES:\n- husky.cfg: echomailFlavour Crash (both fsxnet and tqwnet links)\n- BSO spec: https://ftsc.org/docs/fts-5005.001\n- HPT hptlink.c handles per-link flavour attributes\n- ftn/packet.go: MsgAttrCrash = 0x0002, MsgAttrHold = 0x0200, MsgAttrLocal = 0x0100","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T14:29:58.094325983Z","created_by":"RobbieW","updated_at":"2026-02-21T14:41:14.414424296Z","closed_at":"2026-02-21T14:41:14.414424296Z","close_reason":"Closed","labels":["ftn","tosser"]}
{"id":"vision3-4ye","title":"Clean up orphaned files when AddFileRecord fails","status":"closed","priority":2,"issue_type":"bug","owner":"jim.mcbride@gmail.com","created_at":"2026-02-14T02:41:48.326934-06:00","created_by":"Jim McBride","updated_at":"2026-02-14T05:50:47.890585-06:00","closed_at":"2026-02-14T05:50:47.890585-06:00","close_reason":"Closed"}
{"id":"vision3-4z0","title":"VIS-39: FileManager.UpdateFileRecord","status":"closed","priority":2,"issue_type":"feature","owner":"jim.mcbride@gmail.com","created_at":"2026-02-14T06:12:22.987447-06:00","created_by":"Jim McBride","updated_at":"2026-02-14T06:17:49.182503-06:00","closed_at":"2026-02-14T06:17:49.182503-06:00","close_reason":"Closed"}
{"id":"vision3-5ek","title":"Fix ssh-rsa unconditionally in host key algorithms","description":"sshserver/server.go lines 223-232: ssh-rsa (SHA-1) always included regardless of LegacySSHAlgorithms.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:38:35.017073204Z","created_by":"RobbieW","updated_at":"2026-02-19T19:43:00.649644006Z","closed_at":"2026-02-19T19:43:00.649644006Z","close_reason":"Closed"}
{"id":"vision3-5t1","title":"VIS-6: Implement file viewing (text files, archives inline)","description":"Allow users to view text files and archive contents inline from the file area. Support ZIP for listing contents. Triggered from V key in file list.","status":"closed","priority":2,"issue_type":"feature","owner":"jim.mcbride@gmail.com","created_at":"2026-02-14T02:10:29.736046-06:00","created_by":"Jim McBride","updated_at":"2026-02-14T02:42:12.30769-06:00","closed_at":"2026-02-14T02:42:12.30769-06:00","close_reason":"Implemented VIEW_FILE, TYPE_TEXT_FILE commands and lightbar V action with TDD"}
{"id":"vision3-67b","title":"Update admin menu for delete user","description":"Add delete user option to the admin menu:\n- Update ADMIN.CFG/ADMIN.MNU to add a menu option for DELETEUSER command\n- Ensure proper ACS (S100) restriction\n- Add appropriate menu prompt/description","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-14T00:35:02.486536557Z","created_by":"RobbieW","updated_at":"2026-02-14T00:44:58.967634555Z","closed_at":"2026-02-14T00:44:58.967634555Z","close_reason":"Closed","labels":["feature"]}
{"id":"vision3-6d0","title":"Skip symlinks and non-regular files in scanDirectoryFiles","status":"closed","priority":2,"issue_type":"bug","owner":"jim.mcbride@gmail.com","created_at":"2026-02-14T02:41:48.171792-06:00","created_by":"Jim McBride","updated_at":"2026-02-14T05:50:47.889144-06:00","closed_at":"2026-02-14T05:50:47.889144-06:00","close_reason":"Closed"}
{"id":"vision3-6ko","title":"Message reader: sysop/co-sysop Delete option in footer lightbar","description":"Add a Delete option to the message reader footer lightbar, visible only to sysop/co-sysop level users. Colored differently (red). Marks JAM message as deleted locally; jamutil pack/link needed afterward to fully clean up. Does not affect already-sent echomail.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T18:28:56.849972162Z","created_by":"RobbieW","updated_at":"2026-02-19T18:33:48.158764315Z","closed_at":"2026-02-19T18:33:48.158764315Z","close_reason":"Closed"}
{"id":"vision3-6xb","title":"VIS-52: Implement terminal type toggle","status":"closed","priority":2,"issue_type":"task","owner":"jim.mcbride@gmail.com","created_at":"2026-02-15T21:56:10.732517-06:00","created_by":"Jim McBride","updated_at":"2026-02-15T22:00:45.285008-06:00","closed_at":"2026-02-15T22:00:45.285008-06:00","close_reason":"Closed"}
{"id":"vision3-72r","title":"Fix processTemplate missing modifier forms and @G@","description":"message_datafile.go: hardcoded detection misses @T|R8@ and @G@ forms. Templates fall through to legacy processing.","status":"closed","priority":1,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:38:31.996483608Z","created_by":"RobbieW","updated_at":"2026-02-19T19:40:26.884088397Z","closed_at":"2026-02-19T19:40:26.884088397Z","close_reason":"Closed"}
{"id":"vision3-76v","title":"tosser: dupe area handling — write detected dupes to DUPE JAM base","description":"When the tosser detects a duplicate MSGID (via dupeDB.Add), the message is silently discarded (counted in DupesSkipped but not written anywhere). It should optionally be written to a configured 'dupe' JAM area for sysop inspection.\n\nCURRENT BEHAVIOUR:\n  if msgID != \"\" \u0026\u0026 t.dupeDB.Add(msgID) {\n      return errDupe\n  }\n  // In tossPacket: dupes++ then continue — message discarded\n\nREQUIRED BEHAVIOUR:\n- If dupe_area_tag configured: write duplicate to dupe area JAM base\n- Preserved so sysop can investigate why a message was considered a duplicate\n- If dupe_area_tag is empty: keep existing drop behaviour (backward compat)\n\nCONFIG CHANGES:\n- Add dupe_area_tag string to FTNNetworkConfig (json: dupe_area_tag, default: \"\")\n- ftn.json example: \"dupe_area_tag\": \"DUPE\"\n\nNOTE: The dupe area write path requires care — we need to call msgMgr.GetAreaByTag(dupeAreaTag) before the dupe check so we have the base available to write to. The JAM write itself is the same as echomail import.\n\nREFERENCES:\n- HPT DupeArea directive: DupeArea DupeArea /opt/vision3/data/msgbases/dupe -b Jam\n- husky.cfg line 69: DupeArea DupeArea /opt/vision3/data/msgbases/dupe -b Jam\n- message_areas.json already has area id:5, tag:DUPE, base_path:msgbases/dupe","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T14:28:55.794562012Z","created_by":"RobbieW","updated_at":"2026-02-21T14:41:14.592820816Z","closed_at":"2026-02-21T14:41:14.592820816Z","close_reason":"Closed","labels":["ftn","tosser"]}
{"id":"vision3-7cf","title":"Node Activity + Who's Online during login","description":"Add descriptive NodeActivity field to menu commands and CFG files, add WHOISONLINE as a login sequence command with YES/NO lightbar prompt, update session tracking to show activity text instead of raw menu names in Who's Online display","status":"in_progress","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-20T15:49:32.983426172Z","created_by":"RobbieW","updated_at":"2026-02-20T15:49:34.361689012Z","labels":["feature"]}
{"id":"vision3-7yd","title":"Implement ZMODEM file upload via rz","status":"closed","priority":1,"issue_type":"feature","owner":"jim.mcbride@gmail.com","created_at":"2026-02-14T02:07:08.006894-06:00","created_by":"Jim McBride","updated_at":"2026-02-14T02:07:16.745695-06:00","closed_at":"2026-02-14T02:07:16.745695-06:00","close_reason":"Closed"}
{"id":"vision3-8ex","title":"Fix goroutine leak in RunCommandWithPTY when SetReadInterrupt unavailable","status":"closed","priority":2,"issue_type":"bug","owner":"jim.mcbride@gmail.com","created_at":"2026-02-14T02:41:48.088457-06:00","created_by":"Jim McBride","updated_at":"2026-02-14T05:50:47.887698-06:00","closed_at":"2026-02-14T05:50:47.887698-06:00","close_reason":"Closed"}
{"id":"vision3-8kp","title":"Fix door handler LINES/COLUMNS env var override","description":"door_handler.go ~lines 653-664: LINES/COLUMNS appended without removing existing entries; earlier values may take precedence.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:45:30.065340055Z","created_by":"RobbieW","updated_at":"2026-02-19T19:48:33.461269884Z","closed_at":"2026-02-19T19:48:33.461269884Z","close_reason":"Closed"}
{"id":"vision3-9fk","title":"Update user-management.md documentation","description":"Document the soft-delete feature in documentation/user-management.md:\n- Explain DeletedUser and DeletedAt fields\n- Document how to delete users (both from ADMINLISTUSERS and dedicated command)\n- Explain that deleted users don't appear in public views but retain all data\n- Note about future purge functionality\n- Update the best practices and troubleshooting sections","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-14T00:35:05.05457897Z","created_by":"RobbieW","updated_at":"2026-02-14T00:46:06.705168548Z","closed_at":"2026-02-14T00:46:06.705168548Z","close_reason":"Closed","labels":["documentation"]}
{"id":"vision3-9g1","title":"VIS-38: ZipLab config and loader","status":"closed","priority":2,"issue_type":"feature","owner":"jim.mcbride@gmail.com","created_at":"2026-02-14T06:12:22.906284-06:00","created_by":"Jim McBride","updated_at":"2026-02-14T06:17:49.161654-06:00","closed_at":"2026-02-14T06:17:49.161654-06:00","close_reason":"Closed"}
{"id":"vision3-9jy","title":"fix: typo Werlcome in strings.json","description":"configs/strings.json:48: welcomeNewUser contains typo 'Werlcome' should be 'Welcome'. (CodeRabbit PR #26)","status":"closed","priority":3,"issue_type":"bug","owner":"robbiew@gmail.com","created_at":"2026-02-23T13:59:15.027336932Z","created_by":"RobbieW","updated_at":"2026-02-23T14:04:10.9539103Z","closed_at":"2026-02-23T14:04:10.9539103Z","close_reason":"Closed","labels":["fix","strings"]}
{"id":"vision3-9lk","title":"Phase 3: strict uniform terminal write helpers","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-13T19:58:39.407364977Z","created_by":"RobbieW","updated_at":"2026-02-13T20:05:52.992220199Z","closed_at":"2026-02-13T20:05:52.992220199Z","close_reason":"Closed"}
{"id":"vision3-a2o","title":"Phase 6: Add 'jamutil scan' command","description":"Add 'scan' command to cmd/jamutil/main.go that:\n1. Loads ftn.json config\n2. Creates MessageManager\n3. For each enabled network: instantiates Tosser, calls ScanAndExport() \n4. Uses persistent high-water mark (Phase 4) to only export new messages\n5. Creates outbound .PKT files grouped by destination link\n6. Reports: messages scanned, exported per link, errors\n\nCLI: jamutil scan [--config DIR] [--network NAME]\n  --network NAME: limit to single network\n  --dry-run: report without creating packets\n\nReplaces: hpt scan -c {config}","status":"in_progress","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T14:00:12.586639488Z","created_by":"RobbieW","updated_at":"2026-02-21T14:06:02.104440271Z","labels":["ftn","jamutil"],"dependencies":[{"issue_id":"vision3-a2o","depends_on_id":"vision3-vzt","type":"blocked-by","created_at":"2026-02-21T14:00:12.591031774Z","created_by":"RobbieW"},{"issue_id":"vision3-a2o","depends_on_id":"vision3-zos","type":"blocks","created_at":"2026-02-21T14:00:12.593178112Z","created_by":"RobbieW"},{"issue_id":"vision3-a2o","depends_on_id":"vision3-ael","type":"blocks","created_at":"2026-02-21T14:00:12.596497246Z","created_by":"RobbieW"}]}
{"id":"vision3-a3n","title":"Docker: install lrzsz for zmodem transfers","description":"Zmodem file transfers require lrzsz (sz/rz) installed in the runtime image. Currently not in apk add list.","status":"closed","priority":2,"issue_type":"bug","owner":"robbiew@gmail.com","created_at":"2026-02-21T15:50:52.701339133Z","created_by":"RobbieW","updated_at":"2026-02-21T16:08:05.299300004Z","closed_at":"2026-02-21T16:08:05.299300004Z","close_reason":"Closed"}
{"id":"vision3-a9o","title":"tosser: routing rules — route crash/hold/normal by zone/net pattern","description":"HPT supports routing rules that determine which link handles mail for a given zone/net, and with what flavour. Currently jamutil routes all echomail based solely on the echo_areas list in the link config. Routing rules are needed for multi-hub or multi-zone setups.\n\nHPT ROUTING SYNTAX:\n  route crash 21:4/158 21:*    # send all zone 21 mail via 21:4/158 with Crash flavour\n  route crash 1337:3/123 1337:* # send all zone 1337 mail via 1337:3/123 with Crash flavour\n\nCURRENT STATE:\n- No routing rule config or processing\n- Echomail routing is purely based on links[].echo_areas list (explicit tag match)\n- For a simple leaf node talking to one hub per zone, the current approach works\n- Routes become necessary when: multiple hubs, transit nodes, or netmail routing\n\nSCOPE OF THIS ISSUE:\n1. Add optional routes[] array to FTNNetworkConfig:\n     type FTNRoute struct {\n         Flavour   string    // Crash|Hold|Direct|Normal\n         Via       string        // FTN address of relay node\n         Pattern   string    // Address pattern e.g. \"21:*\" or \"21:4/*\"\n     }\n     // In FTNNetworkConfig: Routes []FTNRoute \n\n2. Use routes during netmail routing (vision3-j2p) to determine which link\n   to send netmail through\n\n3. Optionally use routes to override per-link flavour for specific destinations\n\nNOTE: For the current single-hub setup (one hub per network), this issue is LOW PRIORITY.\nThe echo_areas list in ftn.json already handles echomail routing correctly.\nThis only becomes critical when implementing netmail export (vision3-j2p).\n\nREFERENCES:\n- husky.cfg lines 56-57: route crash 21:4/158 21:*\n- HPT htptree.c implements routing tree\n- HPT hptlink.c: link routing flags","status":"open","priority":3,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T14:31:06.540736426Z","created_by":"RobbieW","updated_at":"2026-02-21T14:31:06.540736426Z","labels":["ftn","tosser"]}
{"id":"vision3-ael","title":"FTN Tosser/Scanner/Packer: Replace HPT with internal jamutil","description":"Replace the external HPT dependency with an internal FTN tosser/scanner/packer in jamutil. This enables vision3 to toss incoming echomail bundles, scan JAM bases for new messages, and pack outbound bundles - all without HPT.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T13:58:20.648952031Z","created_by":"RobbieW","updated_at":"2026-02-21T14:13:09.737788977Z","closed_at":"2026-02-21T14:13:09.737788977Z","close_reason":"Closed","labels":["feature","ftn"]}
{"id":"vision3-ah6","title":"Fix nil dereference panic in runNewMailScan","description":"executor.go ~line 3018: currentUser.Handle accessed before nil check. Will panic if invoked pre-login.","status":"closed","priority":0,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:38:29.332795975Z","created_by":"RobbieW","updated_at":"2026-02-19T19:39:26.343652203Z","closed_at":"2026-02-19T19:39:26.343652203Z","close_reason":"Closed"}
{"id":"vision3-arx","title":"Purge Deleted Users feature","description":"Add automated purge of soft-deleted users after configurable retention period. Config field deletedUserRetentionDays, PurgeDeletedUsers() on UserMgr, helper users purge/list CLI, events.json template, PURGEUSERS sysop menu runnable.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-20T04:26:18.617240951Z","created_by":"RobbieW","updated_at":"2026-02-20T04:29:53.647723422Z","closed_at":"2026-02-20T04:29:53.647723422Z","close_reason":"Closed"}
{"id":"vision3-as2","title":"VIS-52: Implement string input commands (name, phone, note, prompt)","status":"closed","priority":2,"issue_type":"task","owner":"jim.mcbride@gmail.com","created_at":"2026-02-15T21:56:10.828803-06:00","created_by":"Jim McBride","updated_at":"2026-02-15T22:02:01.633732-06:00","closed_at":"2026-02-15T22:02:01.633732-06:00","close_reason":"Closed"}
{"id":"vision3-aut","title":"epic: Sponsor Menus — Phase 1 (Message Areas)","status":"open","priority":2,"issue_type":"epic","owner":"robbiew@gmail.com","created_at":"2026-02-24T15:24:57.112456152-08:00","created_by":"Robbiew","updated_at":"2026-02-24T15:24:57.112456152-08:00"}
{"id":"vision3-aut.1","title":"data model: add Sponsor field to MessageArea + SaveAreas()","description":"Add 'Sponsor string json:\"sponsor,omitempty\"' to MessageArea struct in internal/message/types.go. Add SaveAreas() method to MessageManager that serialises all areas back to message_areas.json atomically. Files: internal/message/types.go, internal/message/manager.go","acceptance_criteria":"MessageArea JSON round-trips Sponsor field; SaveAreas writes valid JSON; no existing tests break","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-24T15:25:30.236647937-08:00","created_by":"Robbiew","updated_at":"2026-02-24T15:27:44.719009938-08:00","closed_at":"2026-02-24T15:27:44.719009938-08:00","close_reason":"Closed","dependencies":[{"issue_id":"vision3-aut.1","depends_on_id":"vision3-aut","type":"parent-child","created_at":"2026-02-24T15:25:30.23755648-08:00","created_by":"Robbiew"}]}
{"id":"vision3-aut.2","title":"access check: CanAccessSponsorMenu helper","description":"Write func CanAccessSponsorMenu(u *user.User, area *message.MessageArea, cfg config.ServerConfig) bool in internal/menu/sponsor_access.go. Returns true if: u.AccessLevel\u003e=cfg.SysOpLevel, OR u.AccessLevel\u003e=cfg.CoSysOpLevel, OR strings.EqualFold(area.Sponsor, u.Handle). Sponsor string from task T1.","acceptance_criteria":"Table-driven unit tests pass: sysop=true, cosysop=true, named sponsor=true, wrong user=false, different area=false","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-24T15:25:30.437800273-08:00","created_by":"Robbiew","updated_at":"2026-02-24T15:28:20.310570737-08:00","closed_at":"2026-02-24T15:28:20.310570737-08:00","close_reason":"Closed","dependencies":[{"issue_id":"vision3-aut.2","depends_on_id":"vision3-aut","type":"parent-child","created_at":"2026-02-24T15:25:30.438796012-08:00","created_by":"Robbiew"}]}
{"id":"vision3-aut.3","title":"menu config: add % to MSGMENU.CFG + create SPONSORM.CFG","description":"Add % key entry to menus/v3/cfg/MSGMENU.CFG pointing to RUN:SPONSORMENU with ACS=*. Create menus/v3/cfg/SPONSORM.CFG with sponsor sub-menu commands: E=SPONSOREDITAREA, Q=return. ACS * for all (handler enforces access internally).","acceptance_criteria":"MSGMENU.CFG has % entry; SPONSORM.CFG parses without error; executor loads it","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-24T15:25:30.634254956-08:00","created_by":"Robbiew","updated_at":"2026-02-24T15:28:44.780354769-08:00","closed_at":"2026-02-24T15:28:44.780354769-08:00","close_reason":"Closed","dependencies":[{"issue_id":"vision3-aut.3","depends_on_id":"vision3-aut","type":"parent-child","created_at":"2026-02-24T15:25:30.635301599-08:00","created_by":"Robbiew"}]}
{"id":"vision3-aut.4","title":"handler: RUN:SPONSORMENU — display SPONSORM.ANS + dispatch sponsor menu","description":"Register runSponsorMenu in registerAppRunnables(). Handler: 1) resolve current area from currentUser.CurrentMessageAreaID, 2) call CanAccessSponsorMenu — if false, print access denied and return, 3) call e.displayFile(terminal,'SPONSORM.ANS',outputMode), 4) enter sponsor sub-menu key loop (load SPONSORM.CFG or inline key dispatch: E-\u003eSPONSOREDITAREA, Q-\u003eexit). File: internal/menu/executor.go","acceptance_criteria":"% from message menu shows SPONSORM.ANS for eligible users; non-sponsors see access denied; sysop/cosysop also get access","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-24T15:25:30.828292244-08:00","created_by":"Robbiew","updated_at":"2026-02-24T15:32:39.001785618-08:00","closed_at":"2026-02-24T15:32:39.001785618-08:00","close_reason":"Closed","dependencies":[{"issue_id":"vision3-aut.4","depends_on_id":"vision3-aut","type":"parent-child","created_at":"2026-02-24T15:25:30.829221013-08:00","created_by":"Robbiew"}]}
{"id":"vision3-aut.5","title":"handler: RUN:SPONSOREDITAREA — in-BBS area field editor","description":"Register runSponsorEditArea. Displays current MessageArea fields (Name, Description, ACSRead, ACSWrite, Sponsor, MaxMessages) in a lightbar/sequential key-driven UI. Uses CanAccessSponsorMenu gate. On save, calls mm.SaveAreas() to persist. Validate that Sponsor username exists via userManager.GetUserByHandle(). File: internal/menu/executor.go (or internal/menu/sponsor_edit.go if over 150 lines)","acceptance_criteria":"Can edit area fields inline; persisted to message_areas.json on save; sponsor username validated; cancel returns unchanged","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-24T15:25:31.02632265-08:00","created_by":"Robbiew","updated_at":"2026-02-24T15:32:39.219301424-08:00","closed_at":"2026-02-24T15:32:39.219301424-08:00","close_reason":"Closed","dependencies":[{"issue_id":"vision3-aut.5","depends_on_id":"vision3-aut","type":"parent-child","created_at":"2026-02-24T15:25:31.027394746-08:00","created_by":"Robbiew"}]}
{"id":"vision3-aut.6","title":"tests: TestCanAccessSponsorMenu + TestEditAreaRoundTrip","description":"Unit tests in internal/menu/sponsor_access_test.go: table-driven TestCanAccessSponsorMenu (sysop, cosysop, named sponsor, wrong user, different area). Integration test TestEditAreaRoundTrip in internal/message/manager_test.go: load areas, mutate Sponsor field via SaveAreas, reload, verify persistence.","acceptance_criteria":"go test ./internal/menu/... ./internal/message/... passes clean","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-24T15:25:31.224189793-08:00","created_by":"Robbiew","updated_at":"2026-02-24T15:34:27.956171646-08:00","closed_at":"2026-02-24T15:34:27.956171646-08:00","close_reason":"Closed","dependencies":[{"issue_id":"vision3-aut.6","depends_on_id":"vision3-aut","type":"parent-child","created_at":"2026-02-24T15:25:31.225192016-08:00","created_by":"Robbiew"}]}
{"id":"vision3-b0r","title":"Docker: expose telnet port 2323","description":"Dockerfile EXPOSE and docker-compose.yml ports only include SSH 2222, but telnet 2323 is enabled by default in template config","status":"closed","priority":1,"issue_type":"bug","owner":"robbiew@gmail.com","created_at":"2026-02-21T15:50:25.102611919Z","created_by":"RobbieW","updated_at":"2026-02-21T16:08:05.181967029Z","closed_at":"2026-02-21T16:08:05.181967029Z","close_reason":"Closed"}
{"id":"vision3-b4o","title":"VIS-49: ZipLab end-to-end integration test","status":"closed","priority":2,"issue_type":"task","owner":"jim.mcbride@gmail.com","created_at":"2026-02-14T06:31:30.935866-06:00","created_by":"Jim McBride","updated_at":"2026-02-14T06:49:30.285763-06:00","closed_at":"2026-02-14T06:49:30.285763-06:00","close_reason":"Integration test written, caught and fixed ad removal bug"}
{"id":"vision3-bj3","title":"tosser: bad area handling — route unknown AREA tags to BAD JAM base","description":"When a tossed packet contains an AREA tag that does not match any area in message_areas.json, the message is currently logged as a warning and discarded (import.go:231-236). It should be written to a configured 'bad' JAM area instead.\n\nCURRENT BEHAVIOUR:\n  area, found := t.msgMgr.GetAreaByTag(parsed.Area)\n  if !found {\n      log.Printf(\"WARN: Unknown echo area %q\", parsed.Area)\n      return fmt.Errorf(\"unknown area %q\", parsed.Area)\n  }\n  → message dropped, counted as error\n\nREQUIRED BEHAVIOUR:\n- If area not found and bad_area_tag configured: write message to bad area JAM base\n- Bad area message should preserve original AREA kludge so sysop can identify the source\n- If bad_area_tag is empty string: keep existing drop behaviour (backward compat)\n\nCONFIG CHANGES:\n- Add bad_area_tag string to FTNNetworkConfig (json: bad_area_tag, default: \"\")\n- ftn.json example: \"bad_area_tag\": \"BAD\"\n\nREFERENCES:\n- HPT BadArea directive: BadArea BadArea /opt/vision3/data/msgbases/bad -b Jam\n- husky.cfg line 68: BadArea BadArea /opt/vision3/data/msgbases/bad -b Jam\n- message_areas.json already has area id:4, tag:BAD, base_path:msgbases/bad","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T14:28:47.178347363Z","created_by":"RobbieW","updated_at":"2026-02-21T14:41:14.507951833Z","closed_at":"2026-02-21T14:41:14.507951833Z","close_reason":"Closed","labels":["ftn","tosser"]}
{"id":"vision3-bn3","title":"Implement private mail system","description":"Add user-to-user private messaging with PRIVMAIL area, MSG_PRIVATE flag support, and three menu functions: SENDPRIVMAIL, READPRIVMAIL, LISTPRIVMAIL. Includes security filtering to ensure users only see their own mail.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-11T12:24:29.535999921-08:00","created_by":"Robbiew","updated_at":"2026-02-11T12:24:45.910178117-08:00","closed_at":"2026-02-11T12:24:45.910178117-08:00","close_reason":"Completed: PRIVMAIL area, AddPrivateMessage(), 3 menu functions (SEND/READ/LIST), EMAILM menu, security filtering, docs updated"}
{"id":"vision3-bpt","title":"Fix LoadTimezone incomplete fallback chain","description":"config.go ~lines 844-861: invalid configTZ falls back directly to time.Local, skipping VISION3_TIMEZONE and TZ env vars.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:45:32.265377951Z","created_by":"RobbieW","updated_at":"2026-02-19T19:48:33.680855976Z","closed_at":"2026-02-19T19:48:33.680855976Z","close_reason":"Closed"}
{"id":"vision3-bt8","title":"Improve LASTCALL.MID placeholder formatting","description":"Enhanced placeholder formatting in LASTCALL.MID template for better alignment in the last callers display output.\n\nRelated commit:\n- 736b5a2: Improve placeholder formatting in LASTCALL.MID\n\nImprovements:\n- Better column alignment\n- Consistent spacing for user names, baud rates, and timestamps","status":"closed","priority":3,"issue_type":"feature","owner":"robbiew@gmail.com","created_at":"2026-02-13T13:03:26.653897539Z","created_by":"RobbieW","updated_at":"2026-02-13T13:04:05.6074873Z","closed_at":"2026-02-13T13:04:05.6074873Z","close_reason":"Closed"}
{"id":"vision3-bwj","title":"VIS-52: Implement numeric input commands (screen width/height)","status":"closed","priority":2,"issue_type":"task","owner":"jim.mcbride@gmail.com","created_at":"2026-02-15T21:56:10.63952-06:00","created_by":"Jim McBride","updated_at":"2026-02-15T22:00:45.283395-06:00","closed_at":"2026-02-15T22:00:45.283395-06:00","close_reason":"Closed"}
{"id":"vision3-c13","title":"fix: lowercase msgbases fallback path in v3mail","description":"cmd/v3mail/main.go:177: 'bp = msgbases/ + a.Tag' should use strings.ToLower(a.Tag) to match JAM naming conventions — uppercase area tags will fail to find base files. (CodeRabbit PR #26)","status":"closed","priority":2,"issue_type":"bug","owner":"robbiew@gmail.com","created_at":"2026-02-23T13:59:01.407350937Z","created_by":"RobbieW","updated_at":"2026-02-23T14:00:28.379997903Z","closed_at":"2026-02-23T14:00:28.379997903Z","close_reason":"Closed","labels":["fix","ftn"]}
{"id":"vision3-c9j","title":"VIS-52: Implement toggle commands (hotkeys, more prompts, fs editor)","status":"closed","priority":2,"issue_type":"task","owner":"jim.mcbride@gmail.com","created_at":"2026-02-15T21:56:10.546567-06:00","created_by":"Jim McBride","updated_at":"2026-02-15T21:59:22.101194-06:00","closed_at":"2026-02-15T21:59:22.101194-06:00","close_reason":"Closed"}
{"id":"vision3-cjs","title":"VIS-52: Final verification","status":"closed","priority":2,"issue_type":"task","owner":"jim.mcbride@gmail.com","created_at":"2026-02-15T21:56:11.209677-06:00","created_by":"Jim McBride","updated_at":"2026-02-15T22:06:46.410959-06:00","closed_at":"2026-02-15T22:06:46.410959-06:00","close_reason":"Closed"}
{"id":"vision3-cle","title":"Fix pipe-code colors not updating SGR state","description":"ansi.go lines 1124-1138: pipe-code color changes don't update sgrState, causing wrong FieldColors.","status":"closed","priority":1,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:38:32.520943388Z","created_by":"RobbieW","updated_at":"2026-02-19T19:43:00.575211896Z","closed_at":"2026-02-19T19:43:00.575211896Z","close_reason":"Closed"}
{"id":"vision3-cpy","title":"VIS-9: Upload processing (FILE_ID.DIZ extraction, virus scan hooks)","description":"Post-upload processing pipeline: extract FILE_ID.DIZ from ZIP archives for auto-descriptions, optional virus scan hook (configurable external command), update file records with extracted descriptions. Reference VIS-9 in Linear.","status":"closed","priority":2,"issue_type":"feature","owner":"jim.mcbride@gmail.com","created_at":"2026-02-14T05:52:53.763064-06:00","created_by":"Jim McBride","updated_at":"2026-02-14T06:30:00.458049-06:00","closed_at":"2026-02-14T06:30:00.458049-06:00","close_reason":"ZipLab pipeline complete (VIS-38 through VIS-47). VIS-48 ZIPLAB_VIEW is separate feature work."}
{"id":"vision3-cum","title":"Fix defaultConfig missing LegacySSHAlgorithms field","description":"config.go ~line 671: defaultConfig doesn't set LegacySSHAlgorithms, so Go zero-value false disagrees with template default true.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:45:31.63969471Z","created_by":"RobbieW","updated_at":"2026-02-19T19:48:33.607357784Z","closed_at":"2026-02-19T19:48:33.607357784Z","close_reason":"Closed"}
{"id":"vision3-cuq","title":"Filter deleted users from public views","description":"Update user listing and retrieval functions to exclude deleted users from:\n- User lists (except admin views)\n- Authentication/login (deleted users cannot log in)\n- Public user searches\n- Any other user enumeration\n\nAdmin views (ADMINLISTUSERS) should continue to show deleted users with a visual indicator (e.g., 'DEL' status).","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-14T00:34:59.920620004Z","created_by":"RobbieW","updated_at":"2026-02-14T00:44:30.546046899Z","closed_at":"2026-02-14T00:44:30.546046899Z","close_reason":"Closed","labels":["feature"]}
{"id":"vision3-cz8","title":"Phase 7: Add 'jamutil ftn-pack' command","description":"Add 'ftn-pack' command to cmd/jamutil/main.go that:\n1. Loads ftn.json config\n2. For each enabled network/link: finds outbound .PKT files (from scan staging area)\n3. Creates ZIP bundle archives (Phase 3) in the binkd outbound directory\n4. Bundle naming: NNNNFFFF.MO0 (or .TU0 etc.) based on current day-of-week\n5. Cleans up staged .PKT files after successful bundling\n6. Reports: bundles created, packets packed, bytes\n\nCLI: jamutil ftn-pack [--config DIR] [--network NAME]\n\nNote: This is different from 'jamutil pack' which defragments JAM bases. This command packs FTN outbound .PKT files into bundles.\n\nReplaces: hpt pack -c {config}","status":"in_progress","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T14:00:22.927516661Z","created_by":"RobbieW","updated_at":"2026-02-21T14:06:02.198372484Z","labels":["ftn","jamutil"],"dependencies":[{"issue_id":"vision3-cz8","depends_on_id":"vision3-vzt","type":"blocked-by","created_at":"2026-02-21T14:00:22.93232998Z","created_by":"RobbieW"},{"issue_id":"vision3-cz8","depends_on_id":"vision3-fyb","type":"blocks","created_at":"2026-02-21T14:00:22.934738444Z","created_by":"RobbieW"},{"issue_id":"vision3-cz8","depends_on_id":"vision3-a2o","type":"blocks","created_at":"2026-02-21T14:00:22.938765699Z","created_by":"RobbieW"},{"issue_id":"vision3-cz8","depends_on_id":"vision3-ael","type":"blocks","created_at":"2026-02-21T14:00:22.942610341Z","created_by":"RobbieW"}]}
{"id":"vision3-d29","title":"Docker: install binkd for FTN polling","description":"FTN events reference binkd binary but it is not installed in the Docker image. Consider building from source or packaging.","status":"closed","priority":2,"issue_type":"bug","owner":"robbiew@gmail.com","created_at":"2026-02-21T15:51:00.569821994Z","created_by":"RobbieW","updated_at":"2026-02-21T16:08:05.422694992Z","closed_at":"2026-02-21T16:08:05.422694992Z","close_reason":"Closed"}
{"id":"vision3-d86","title":"Remove debug log noise in drawMessageListScreen","description":"message_list.go line 137: debug log fires every draw/refresh, extremely noisy in production.","status":"closed","priority":3,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:45:33.703929032Z","created_by":"RobbieW","updated_at":"2026-02-19T19:48:33.823073253Z","closed_at":"2026-02-19T19:48:33.823073253Z","close_reason":"Closed"}
{"id":"vision3-dfo","title":"Idle timeout: wire up in RunMatrixScreen using ReadKeyWithTimeout","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T15:48:51.803401201Z","updated_at":"2026-02-19T15:53:20.154177716Z","closed_at":"2026-02-19T15:53:20.154184964Z"}
{"id":"vision3-dkn","title":"Phase 2: Bundle unpacker for inbound FTN archives","description":"Implement bundle unpacking in internal/tosser or internal/ftn: detect and unzip FTN bundle archives (ZIP/ARC) deposited by binkd in inbound directories to extract raw .PKT files. \n\nHPT uses: Unpack \"/usr/bin/unzip -j -Loqq $a -d $p\" 0 504b0304\n\nCurrent tosser.ProcessInbound() only reads .pkt files - bundles are deposited as .MO0, .TU0, .WE0, etc. (day-of-week named archives) by binkd. Must extract .PKT from bundles to a temp dir before tossing. \n\nApproach: detect ZIP magic bytes (PK\\x03\\x04), extract contents to temp dir, process .PKT files, then delete bundle. Support both direct .pkt files and archived bundles in the same inbound scan loop.","status":"in_progress","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T13:59:03.61513419Z","created_by":"RobbieW","updated_at":"2026-02-21T14:02:57.703652971Z","labels":["ftn","tosser"],"dependencies":[{"issue_id":"vision3-dkn","depends_on_id":"vision3-vzt","type":"blocked-by","created_at":"2026-02-21T13:59:03.61911256Z","created_by":"RobbieW"},{"issue_id":"vision3-dkn","depends_on_id":"vision3-ael","type":"blocks","created_at":"2026-02-21T13:59:03.620844202Z","created_by":"RobbieW"}]}
{"id":"vision3-dls","title":"VIS-40: NFO parser and ANSI display","status":"closed","priority":2,"issue_type":"feature","owner":"jim.mcbride@gmail.com","created_at":"2026-02-14T06:12:23.066119-06:00","created_by":"Jim McBride","updated_at":"2026-02-14T06:17:49.203138-06:00","closed_at":"2026-02-14T06:17:49.203138-06:00","close_reason":"Closed"}
{"id":"vision3-dqr","title":"Phase 9: Update events.json to use jamutil instead of HPT","description":"Replace HPT event entries in configs/events.json with internal jamutil commands:\n\nReplace 'hpt_toss' event:\n  FROM: /opt/vision3/bin/hpt toss -c {BBS_ROOT}/data/ftn/husky.cfg\n  TO: go run {BBS_ROOT}/cmd/jamutil toss --config {BBS_ROOT}/configs --data {BBS_ROOT}/data\n\nReplace 'hpt_scan_pack' event (split into two events or combine):\n  FROM: /opt/vision3/bin/hpt -c {config} scan pack  \n  TO: \n    scan: go run {BBS_ROOT}/cmd/jamutil scan --config {BBS_ROOT}/configs --data {BBS_ROOT}/data\n    ftn-pack: go run {BBS_ROOT}/cmd/jamutil ftn-pack --config {BBS_ROOT}/configs --data {BBS_ROOT}/data\n\nConsider combining scan + ftn-pack into a single event or keeping separate for clarity.\n\nAlso consider building a static binary instead of 'go run' for production use.","status":"in_progress","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T14:00:44.526333553Z","created_by":"RobbieW","updated_at":"2026-02-21T14:11:04.429117493Z","labels":["config","ftn"],"dependencies":[{"issue_id":"vision3-dqr","depends_on_id":"vision3-cz8","type":"blocked-by","created_at":"2026-02-21T14:00:44.532655177Z","created_by":"RobbieW"},{"issue_id":"vision3-dqr","depends_on_id":"vision3-jqy","type":"blocks","created_at":"2026-02-21T14:00:44.53508474Z","created_by":"RobbieW"},{"issue_id":"vision3-dqr","depends_on_id":"vision3-ael","type":"blocks","created_at":"2026-02-21T14:00:44.539298807Z","created_by":"RobbieW"}]}
{"id":"vision3-e5z","title":"External Editors","description":"Implement external editor support for message posting/replying, allowing users to choose between internal editor and configured external editors (like ICEEDIT)","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-16T23:45:44.498710836Z","created_by":"RobbieW","updated_at":"2026-02-16T23:53:50.128913697Z","closed_at":"2026-02-16T23:53:50.128913697Z","close_reason":"External editors implementation complete. Added MSGTMP/MSGINF generation, editor selection prompt, integration with door system, and ICEEDIT configuration example."}
{"id":"vision3-eb0","title":"Fix REPLYcrc not recalculated after trimming ReplyID","description":"jam/pack.go line 238: after modifying ReplyID, hdr.REPLYcrc is not recalculated. Breaks message linking.","status":"closed","priority":1,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:38:31.205442142Z","created_by":"RobbieW","updated_at":"2026-02-19T19:40:26.806371745Z","closed_at":"2026-02-19T19:40:26.806371745Z","close_reason":"Closed"}
{"id":"vision3-eex","title":"fix: eligibleForPurge treats nil DeletedAt as purgeable","description":"cmd/helper/main.go:286: Condition 'u.DeletedAt == nil || u.DeletedAt.Before(cutoff)' incorrectly purges soft-deleted users with no timestamp. Fix: 'u.DeletedAt \\!= nil \u0026\u0026 u.DeletedAt.Before(cutoff)'. (CodeRabbit PR #26)","status":"closed","priority":2,"issue_type":"bug","owner":"robbiew@gmail.com","created_at":"2026-02-23T13:59:01.336749011Z","created_by":"RobbieW","updated_at":"2026-02-23T14:00:14.965613911Z","closed_at":"2026-02-23T14:00:14.965613911Z","close_reason":"Closed","labels":["fix","helper"]}
{"id":"vision3-foo","title":"Add soft-delete fields to User struct","description":"Add DeletedUser bool and DeletedAt time.Time fields to the User struct in internal/user/user.go. These fields will enable soft-deletion tracking.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-14T00:34:52.629388094Z","created_by":"RobbieW","updated_at":"2026-02-14T00:39:31.62244015Z","closed_at":"2026-02-14T00:39:31.62244015Z","close_reason":"Closed","labels":["feature"]}
{"id":"vision3-fyb","title":"Phase 3: Bundle packer for binkd outbound ZIP archives","description":"Implement FTN bundle packing: take outbound .PKT files and compress them into ZIP archives in the binkd outbound directory structure.\n\nHPT uses: Pack zip /usr/bin/zip -9 -j -q $a $f\nOutbound dir: /opt/vision3/data/ftn/out\n\nBundle naming convention: NNNNFFFF.ext where NNNN=dest_net (hex), FFFF=dest_node (hex), ext = day-of-week suffix (mo0, tu0, we0, th0, fr0, sa0, su0) or 'out'.\n\nFor each link, collect .PKT files from outbound staging area and zip them into a bundle archive. Place bundle in binkd outbound directory so binkd can send it on next poll.\n\nMust also write/update the .flo flow file if needed for binkd to pick up the bundle.","status":"in_progress","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T13:59:21.251228073Z","created_by":"RobbieW","updated_at":"2026-02-21T14:05:22.222389614Z","labels":["ftn","tosser"],"dependencies":[{"issue_id":"vision3-fyb","depends_on_id":"vision3-vzt","type":"blocked-by","created_at":"2026-02-21T13:59:21.25641968Z","created_by":"RobbieW"},{"issue_id":"vision3-fyb","depends_on_id":"vision3-ael","type":"blocks","created_at":"2026-02-21T13:59:21.259866117Z","created_by":"RobbieW"}]}
{"id":"vision3-gy6","title":"VIS-52: Implement color picker","status":"closed","priority":2,"issue_type":"task","owner":"jim.mcbride@gmail.com","created_at":"2026-02-15T21:56:10.926345-06:00","created_by":"Jim McBride","updated_at":"2026-02-15T22:03:09.384516-06:00","closed_at":"2026-02-15T22:03:09.384516-06:00","close_reason":"Closed"}
{"id":"vision3-hqw","title":"fix: REPLY kludge drops unique MSGID portion in tosser","description":"internal/tosser/import.go:324-325: jamMsg.ReplyID = parts[0] only stores the address, dropping the unique portion of the MSGID (e.g. '1:234/5' instead of '1:234/5 abc1234'). This breaks reply threading/linking. Should store 'parts[0] + \" \" + parts[1]' when len \u003e= 2. (CodeRabbit PR #26)","status":"closed","priority":2,"issue_type":"bug","owner":"robbiew@gmail.com","created_at":"2026-02-23T13:59:01.497084564Z","created_by":"RobbieW","updated_at":"2026-02-23T14:03:30.774802109Z","closed_at":"2026-02-23T14:03:30.774802109Z","close_reason":"Closed","labels":["fix","ftn","tosser"]}
{"id":"vision3-icq","title":"Recreate STRINGS.EXE as Go TUI (strings editor)","description":"Port the Turbo Pascal STRINGS.EXE program from Vision-2 BBS to a Go-based TUI using BubbleTea. The original program is a string editor that allows SysOps to customize 178 BBS prompts/strings stored in STRINGS.DAT. The Go version will read/write configs/strings.json instead. Must faithfully reproduce the original UI layout: paginated list of 20 items per page, status bar, description bar, inline editing with BBS color code rendering, and the full keyboard interaction model (PgUp/PgDn, Enter to edit, F10 to save, Esc to abort-with-confirm).","status":"closed","priority":2,"issue_type":"epic","owner":"robbiew@gmail.com","created_at":"2026-02-20T19:53:58.686984078Z","created_by":"RobbieW","updated_at":"2026-02-20T20:21:52.387837Z","closed_at":"2026-02-20T20:21:52.387837Z","close_reason":"Closed"}
{"id":"vision3-icq.1","title":"Define string entry metadata (name, key, description)","description":"Create a Go data structure that maps each strings.json key to its display name and help description, matching the original 178 Pascal 'things' array from STRINGS.PAS. Each entry needs: (1) a display label (e.g. 'Default User Prompt'), (2) the JSON key (e.g. 'defPrompt'), and (3) a description string (e.g. 'This is the Default prompt for new users'). The ordering must match the original Pascal program's display order. Also include the new V3-only keys that don't exist in the Pascal version, grouped at the end.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-20T19:54:07.852644785Z","created_by":"RobbieW","updated_at":"2026-02-20T20:21:45.792289034Z","closed_at":"2026-02-20T20:21:45.792289034Z","close_reason":"Closed","dependencies":[{"issue_id":"vision3-icq.1","depends_on_id":"vision3-icq","type":"parent-child","created_at":"2026-02-20T19:54:07.858762874Z","created_by":"RobbieW"}]}
{"id":"vision3-icq.2","title":"Implement BBS color code renderer for TUI","description":"Implement a BBS pipe-code color renderer that converts Vision BBS color codes (|00-|15 for foreground, |B0-|B7 for background, $a-$W for alternate colors) into lipgloss/tcell styled output for the BubbleTea TUI. The Pascal original uses WriteColor() procedure (STRINGS.PAS lines 329-388) that parses | and $ codes inline. Must handle: pipe codes |00-|15, background |B0-|B7, dollar-sign color codes $a-$W, and truncation with overflow indicator when strings exceed column width. This is critical since every string value displayed contains these codes.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-20T19:54:18.451359303Z","created_by":"RobbieW","updated_at":"2026-02-20T20:21:45.919794957Z","closed_at":"2026-02-20T20:21:45.919794957Z","close_reason":"Closed","dependencies":[{"issue_id":"vision3-icq.2","depends_on_id":"vision3-icq","type":"parent-child","created_at":"2026-02-20T19:54:18.453119074Z","created_by":"RobbieW"}]}
{"id":"vision3-icq.3","title":"Build paginated list view (20 items/page) with BubbleTea","description":"Implement the main paginated list view matching the Pascal original's gotopage() procedure. Layout: Row 1 = status bar (current item #, title 'ViSiON/3 BBS String Configuration', current page #) on blue background. Rows 3-22 = 20 string entries per page showing [label] followed by the rendered color-coded value. Row 24 = description bar showing the currently highlighted item's help text. Navigation: Up/Down arrows move cursor within page, PgUp/PgDn switch pages, cursor highlight uses the bar color (95 = white on blue). The dcol constant (column 30) is where values start rendering. Total pages = ceil(numthings/20).","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-20T19:57:44.263259286Z","created_by":"RobbieW","updated_at":"2026-02-20T20:21:46.047080643Z","closed_at":"2026-02-20T20:21:46.047080643Z","close_reason":"Closed","dependencies":[{"issue_id":"vision3-icq.3","depends_on_id":"vision3-icq","type":"parent-child","created_at":"2026-02-20T19:57:44.265986384Z","created_by":"RobbieW"}]}
{"id":"vision3-icq.4","title":"Implement inline string editing with text input","description":"Implement the inline string editing that matches the original getinput() procedure. When user presses Enter or types a character on a highlighted item, the value area (starting at dcol=30) clears and becomes an editable text input field. If Enter is pressed first, cursor is empty for fresh input. If F2/F3 is pressed, the current value pre-populates the input for editing. Input accepts up to 80 characters (lstr length). Pressing Enter confirms, Esc cancels. After editing, the value re-renders with BBS color codes. Uses BubbleTea's textinput component or a custom inline editor.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-20T19:57:53.348960839Z","created_by":"RobbieW","updated_at":"2026-02-20T20:21:46.156295287Z","closed_at":"2026-02-20T20:21:46.156295287Z","close_reason":"Closed","dependencies":[{"issue_id":"vision3-icq.4","depends_on_id":"vision3-icq","type":"parent-child","created_at":"2026-02-20T19:57:53.350980335Z","created_by":"RobbieW"}]}
{"id":"vision3-icq.5","title":"JSON file I/O - load and save strings.json","description":"Implement reading and writing of configs/strings.json. On startup: load the JSON file into a map[string]string, mapping each JSON key to its value. If the file doesn't exist, create it with default values (matching FormatStrings() defaults from the Pascal source). On save (F10): write the modified map back to strings.json with proper formatting. Must preserve any keys in the JSON that aren't in the editor's metadata list (forward compatibility). The Pascal original used CreateStrings/ReadStrings/WriteStrings procedures for binary STRINGS.DAT; we use JSON instead.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-20T19:58:02.064058341Z","created_by":"RobbieW","updated_at":"2026-02-20T20:21:46.272767429Z","closed_at":"2026-02-20T20:21:46.272767429Z","close_reason":"Closed","dependencies":[{"issue_id":"vision3-icq.5","depends_on_id":"vision3-icq","type":"parent-child","created_at":"2026-02-20T19:58:02.093148687Z","created_by":"RobbieW"}]}
{"id":"vision3-icq.6","title":"Implement save/abort dialogs and keyboard shortcuts","description":"Implement the keyboard shortcut handling and modal dialogs matching the Pascal original. Key mappings: F10 = save and exit (calls writestrings + byebye), Esc = abort with confirmation dialog, PgUp/PgDn = page navigation, Enter = edit current item (empty input), F2 = edit current item (pre-filled), typing any printable char = starts editing with that char. The abort dialog (abortyn procedure) is a centered modal window asking 'Abort Without Saving?' with [Yes] [No] selection bar, navigable with arrow keys or Y/N keys. Must also implement the startup logo/splash screen.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-20T19:58:12.703339774Z","created_by":"RobbieW","updated_at":"2026-02-20T20:21:46.386402241Z","closed_at":"2026-02-20T20:21:46.386402241Z","close_reason":"Closed","dependencies":[{"issue_id":"vision3-icq.6","depends_on_id":"vision3-icq","type":"parent-child","created_at":"2026-02-20T19:58:12.70710648Z","created_by":"RobbieW"}]}
{"id":"vision3-icq.7","title":"Wire up cmd/vision3 subcommand and build integration","description":"Add a 'strings' subcommand to the vision3 binary (or create a separate cmd/strings/main.go). Following Vision3 patterns, this should be invokable as './vision3 strings' similar to how retrograde has './retrograde config'. The command should accept an optional --config flag to specify the strings.json path (defaulting to configs/strings.json relative to working dir). Update build.sh to include the new command. Ensure go.mod gets bubbletea, lipgloss, and bubbles dependencies added.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-20T19:58:21.116140618Z","created_by":"RobbieW","updated_at":"2026-02-20T20:21:46.515695643Z","closed_at":"2026-02-20T20:21:46.515695643Z","close_reason":"Closed","dependencies":[{"issue_id":"vision3-icq.7","depends_on_id":"vision3-icq","type":"parent-child","created_at":"2026-02-20T19:58:21.117695052Z","created_by":"RobbieW"}]}
{"id":"vision3-icq.8","title":"Color theme and visual polish matching Pascal original","description":"Fine-tune the TUI colors and visual layout to match the original Pascal STRINGS.EXE as closely as possible. The Pascal original defines: NormalColor=8 (dark gray), BoldColor=15 (white), BarColor=95 (white on blue), InputColor=31 (white on blue), ChoiceColor=15 (white), DataColor=9 (light blue). The status bar (row 1) uses blue background with white text. Description bar (row 24) uses magenta/13 text centered. The DrawLogo splash screen should be recreated as an ANSI art splash. Box-drawing characters from CP437 charset should be rendered correctly. Test with standard terminal emulators.","status":"closed","priority":1,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-20T19:58:30.610499519Z","created_by":"RobbieW","updated_at":"2026-02-20T20:21:46.659022721Z","closed_at":"2026-02-20T20:21:46.659022721Z","close_reason":"Closed","dependencies":[{"issue_id":"vision3-icq.8","depends_on_id":"vision3-icq","type":"parent-child","created_at":"2026-02-20T19:58:30.612695475Z","created_by":"RobbieW"}]}
{"id":"vision3-icq.9","title":"Search/filter and jump-to-item functionality","description":"Add a search/filter feature (not in the original Pascal version but valuable for the Go version given 250+ strings). Press '/' to enter search mode, type to filter items by label or key name, Enter to jump to the matched item. Also implement a 'jump to item #' feature matching the original's behavior of typing a number to jump to that item. This is an enhancement over the original while keeping the same visual paradigm.","status":"closed","priority":3,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-20T19:58:39.005009571Z","created_by":"RobbieW","updated_at":"2026-02-20T20:21:46.812626783Z","closed_at":"2026-02-20T20:21:46.812626783Z","close_reason":"Closed","dependencies":[{"issue_id":"vision3-icq.9","depends_on_id":"vision3-icq","type":"parent-child","created_at":"2026-02-20T19:58:39.006698731Z","created_by":"RobbieW"}]}
{"id":"vision3-ioq","title":"VIS-52: Create menu files (USERCFG.CFG, MNU, ANS) + update MAIN.CFG","status":"closed","priority":2,"issue_type":"task","owner":"jim.mcbride@gmail.com","created_at":"2026-02-15T21:56:10.454615-06:00","created_by":"Jim McBride","updated_at":"2026-02-15T21:58:08.361898-06:00","closed_at":"2026-02-15T21:58:08.361898-06:00","close_reason":"Closed"}
{"id":"vision3-isv","title":"Convert message header selection to unlimited lightbar system","description":"Convert the message header selection system from a hardcoded 14-item limit to an unlimited template system using Vision3's lightbar selection (configurable bar system in /opt/vision3/menus/v3/bar).\n\n## Current Implementation\n\nThe `runGetHeaderType()` function in `internal/menu/message_reader.go` (lines 1037-1117) has these limitations:\n- Hardcoded limit: `if parseErr != nil || num \u003c 1 || num \u003e 14` (line 1090)\n- Simple numeric input field (1-14)\n- Static MSGHDR.ANS selection screen\n- Templates limited to MSGHDR.1.ans through MSGHDR.14.ans\n\n## Goals\n\n1. **Remove 14-item limit**: Allow unlimited message header templates\n2. **Use lightbar system**: Implement arrow key navigation like FASTLOGN/PDMATRIX menus\n3. **Auto-discover templates**: Dynamically find all MSGHDR.*.ans files in templates/message_headers/\n4. **Maintain UX**: Keep preview functionality and Q to quit behavior\n\n## Technical Approach\n\n### 1. Create Lightbar Configuration Files\n\n**MSGHDR.BAR** (new file in `/opt/vision3/menus/v3/bar/`)\n- Format: `X,Y,HiLitedColor,RegularColor,HotKey,ReturnValue,HiLitedString`\n- Auto-generate entries for each discovered template\n- Example:\n  ```\n  10,8,31,7,1,1,Simple Header (MSGHDR.1)\n  10,9,31,7,2,2,Classic Box (MSGHDR.2)\n  10,10,31,7,3,3,Colorful (MSGHDR.3)\n  ...\n  ```\n\n**MSGHDR.CFG** (new file in `/opt/vision3/menus/v3/cfg/`)\n- JSON format mapping hotkeys to actions\n- Map numeric keys (1-N) to PREVIEW command with template number\n- Add Q for quit, ENTER for select\n\n### 2. Modify runGetHeaderType() Function\n\n**Changes to `internal/menu/message_reader.go`:**\n1. Auto-discover all MSGHDR.*.ans files using `filepath.Glob()`\n2. Sort templates numerically (MSGHDR.1, MSGHDR.2, ..., MSGHDR.15, etc.)\n3. Load lightbar options using `loadLightbarOptions()` (already exists in executor.go)\n4. Replace simple input loop with lightbar navigation:\n   - Arrow keys to navigate\n   - ENTER to preview selected template\n   - Space or hotkey to select and save\n   - Q to quit without changing\n5. Keep existing preview functionality with sample data\n6. Update user's header preference on selection\n\n### 3. Update or Replace MSGHDR.ANS\n\n**Option A:** Keep MSGHDR.ANS as static background, overlay lightbar items\n**Option B:** Create new MSGHDR_SELECT.ANS with space for dynamic list\n\n### 4. Template Discovery Logic\n\n```go\nfunc discoverMessageHeaders(templatesPath string) ([]string, error) {\n    pattern := filepath.Join(templatesPath, \"message_headers\", \"MSGHDR.*.ans\")\n    files, err := filepath.Glob(pattern)\n    if err != nil {\n        return nil, err\n    }\n    \n    // Filter out MSGHDR.ANS (selection screen, not a template)\n    var headers []string\n    for _, file := range files {\n        base := filepath.Base(file)\n        if base == \"MSGHDR.ANS\" {\n            continue\n        }\n        headers = append(headers, base)\n    }\n    \n    // Sort numerically\n    sort.Slice(headers, func(i, j int) bool {\n        numI := extractNumber(headers[i])\n        numJ := extractNumber(headers[j])\n        return numI \u003c numJ\n    })\n    \n    return headers, nil\n}\n```\n\n## Implementation Steps\n\n1. ✅ Create detailed implementation plan (this issue)\n2. ⬜ Create template discovery function\n3. ⬜ Design MSGHDR_SELECT.ANS background (or modify existing MSGHDR.ANS)\n4. ⬜ Generate MSGHDR.BAR configuration\n5. ⬜ Generate MSGHDR.CFG command mappings\n6. ⬜ Refactor runGetHeaderType() to use lightbar system\n7. ⬜ Add keyboard navigation (arrows, ENTER, Q)\n8. ⬜ Preserve preview functionality\n9. ⬜ Test with 14 existing templates\n10. ⬜ Test with 20+ templates (add more MSGHDR files)\n11. ⬜ Update documentation\n\n## Files to Modify\n\n- `internal/menu/message_reader.go` (runGetHeaderType function)\n- Create: `menus/v3/bar/MSGHDR.BAR`\n- Create: `menus/v3/cfg/MSGHDR.CFG`\n- Modify or replace: `menus/v3/templates/message_headers/MSGHDR.ANS`\n\n## Testing Checklist\n\n- [ ] Lightbar navigation works (up/down arrows)\n- [ ] ENTER previews selected template with sample data\n- [ ] Space or hotkey selects template and saves to user profile\n- [ ] Q quits without changing preference\n- [ ] System discovers all MSGHDR.*.ans files automatically\n- [ ] Works with 14 existing templates\n- [ ] Works with 20+ templates (test scalability)\n- [ ] No 14-item limit in code\n- [ ] Preview shows correct placeholder replacements\n- [ ] Selection persists to user profile\n\n## References\n\n- Existing lightbar implementation: `internal/menu/executor.go` (loadLightbarOptions, drawLightbarMenu)\n- Matrix menu example: `internal/menu/matrix.go` (RunMatrixScreen)\n- BAR format example: `menus/v3/bar/FASTLOGN.BAR`\n- Current header selection: `internal/menu/message_reader.go` (lines 1037-1117)","status":"closed","priority":2,"issue_type":"feature","owner":"robbiew@gmail.com","estimated_minutes":240,"created_at":"2026-02-15T16:08:53.827193973Z","created_by":"RobbieW","updated_at":"2026-02-15T16:18:31.43383003Z","closed_at":"2026-02-15T16:18:31.43383003Z","close_reason":"Closed","labels":["enhancement","lightbar","message-headers"]}
{"id":"vision3-j1b","title":"Idle timeout: add MatrixIdleTimeoutMinutes to ServerConfig + default 5 min","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T15:48:51.676142518Z","updated_at":"2026-02-19T15:50:34.620763039Z","closed_at":"2026-02-19T15:50:34.620770776Z"}
{"id":"vision3-j2p","title":"tosser: netmail tossing and scanning support","description":"Netmail (point-to-point FTN private messages) is currently silently discarded during import (messages without AREA tag are skipped in import.go), and the scanner skips non-echomail areas entirely.\n\nIMPORT (import.go):\n- Messages without AREA: kludge are netmail directed to a specific node address\n- Should route to the configured netmail JAM area (area_type=netmail in message_areas.json)\n- Destination is read from the packet header To/DestNode/DestNet fields\n- Private messages addressed to own_address should be imported; others discarded or routed\n\nEXPORT (export.go):\n- Currently filters: if area.AreaType != echomail { continue }\n- Should also process area_type=netmail areas\n- Netmail packets go directly to the destination node (not echoed to links)\n- Requires routing lookup: find which link serves the destination net/zone\n\nCONFIG (config.go / ftn.json):\n- Add netmail_area_tag string field to FTNNetworkConfig (default: NETMAIL)\n- Tells the tosser which message area receives inbound netmail\n\nREFERENCES:\n- HPT toss.c handles netmail detection (no AREA kludge = netmail)\n- husky.cfg: NetmailArea NETMAIL /opt/vision3/data/msgbases/netmail -b Jam","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T14:28:36.636886039Z","created_by":"RobbieW","updated_at":"2026-02-21T14:41:14.680210498Z","closed_at":"2026-02-21T14:41:14.680210498Z","close_reason":"Closed","labels":["ftn","tosser"]}
{"id":"vision3-jqy","title":"Phase 8: Tests for toss/scan/pack cycle","description":"Write comprehensive tests for the internal FTN tosser/scanner/packer:\n\n1. Unit tests in internal/tosser/:\n   - TestBundleUnpack: create a test ZIP bundle with a sample .PKT inside, verify extraction\n   - TestBundlePack: write .PKT files, verify ZIP bundle created with correct naming\n   - TestHighWaterMarkPersistence: verify HWM saved/loaded across Tosser restarts\n   - TestTossEchomail: create sample Type-2+ .PKT with echomail messages, toss to temp JAM base, verify messages written correctly\n   - TestScanExport: write echomail messages to temp JAM base (DateProcessed=0), scan, verify outbound .PKT created with correct AREA/MSGID/SEEN-BY\n   - TestFullCycle: toss → scan → verify messages round-trip through pack correctly\n\n2. Integration test in cmd/jamutil/:\n   - TestJamutilTossCommand: invoke cmdToss with test config and temp dirs\n   - TestJamutilScanCommand: invoke cmdScan with seeded JAM base\n   - TestJamutilFtnPackCommand: invoke cmdFtnPack with staged .PKT files\n\n3. Dupe detection tests:\n   - Verify duplicate MSGID is not imported twice\n   - Verify dupe DB persists across runs","status":"in_progress","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T14:00:35.115803187Z","created_by":"RobbieW","updated_at":"2026-02-21T14:07:26.014175226Z","labels":["ftn","testing"],"dependencies":[{"issue_id":"vision3-jqy","depends_on_id":"vision3-p39","type":"blocked-by","created_at":"2026-02-21T14:00:35.120198863Z","created_by":"RobbieW"},{"issue_id":"vision3-jqy","depends_on_id":"vision3-a2o","type":"blocks","created_at":"2026-02-21T14:00:35.121993641Z","created_by":"RobbieW"},{"issue_id":"vision3-jqy","depends_on_id":"vision3-cz8","type":"blocks","created_at":"2026-02-21T14:00:35.12515491Z","created_by":"RobbieW"},{"issue_id":"vision3-jqy","depends_on_id":"vision3-ael","type":"blocks","created_at":"2026-02-21T14:00:35.128052517Z","created_by":"RobbieW"}]}
{"id":"vision3-koa","title":"VIS-52: Implement view config","status":"closed","priority":2,"issue_type":"task","owner":"jim.mcbride@gmail.com","created_at":"2026-02-15T21:56:11.11405-06:00","created_by":"Jim McBride","updated_at":"2026-02-15T22:06:21.052194-06:00","closed_at":"2026-02-15T22:06:21.052194-06:00","close_reason":"Closed"}
{"id":"vision3-l8t","title":"CRITICAL: Fix double-escaped regex in placeholder.go","description":"In internal/menu/placeholder.go line 22, regex uses double-backslash in raw string literal, breaking :WIDTH parsing entirely. Fix: change \\\\\\\\d+ to \\\\d+","status":"closed","priority":0,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:38:27.704753849Z","created_by":"RobbieW","updated_at":"2026-02-19T19:38:55.186129213Z","closed_at":"2026-02-19T19:38:55.186129213Z","close_reason":"Closed"}
{"id":"vision3-nlp","title":"Current door handler and scheduler refinements","description":"Ongoing refinements to door handler, scheduler, and door menu configuration.\n\nModified files (uncommitted):\n- internal/config/config.go\n- internal/menu/door_handler.go\n- internal/scheduler/scheduler.go\n- menus/v3/ansi/DOORSM.ANS\n- menus/v3/cfg/DOORSM.CFG\n\nThis work is currently in progress on feature/dev branch.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-13T13:03:29.204872831Z","created_by":"RobbieW","updated_at":"2026-02-13T17:15:43.509572128Z","closed_at":"2026-02-13T17:15:43.509572128Z","close_reason":"Closed"}
{"id":"vision3-nof","title":"Fix message reader numeric hotkey visual glitch","description":"message_reader.go ~line 1497: selectedIndex updated before unhighlighting old option. drawOption(selectedIndex,false) unhighlights new selection instead of old.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:45:27.365237824Z","created_by":"RobbieW","updated_at":"2026-02-19T19:45:50.965893411Z","closed_at":"2026-02-19T19:45:50.965893411Z","close_reason":"Closed"}
{"id":"vision3-obo","title":"Docker: create temp/node dirs and missing data dirs in entrypoint","description":"docker-entrypoint.sh does not create temp/node* directories needed for door/session temp files","status":"closed","priority":3,"issue_type":"bug","owner":"robbiew@gmail.com","created_at":"2026-02-21T15:51:58.737317838Z","created_by":"RobbieW","updated_at":"2026-02-21T16:08:05.700245882Z","closed_at":"2026-02-21T16:08:05.700245882Z","close_reason":"Closed"}
{"id":"vision3-odz","title":"VIS-26: Inter-node chat (teleconference + paging)","status":"closed","priority":2,"issue_type":"feature","owner":"jim.mcbride@gmail.com","created_at":"2026-02-15T23:22:39.124294-06:00","created_by":"Jim McBride","updated_at":"2026-02-16T00:08:37.588024-06:00","closed_at":"2026-02-16T00:08:37.588024-06:00","close_reason":"VIS-26 merged as PR #20"}
{"id":"vision3-oo1","title":"Implement UE (User Editor) TUI binary","description":"Translate Vision-2 UE.EXE into Go TUI binary at cmd/ue/, replicating the original list browser and field editor screens with period-accurate colors, modals, and keyboard shortcuts. Must handle file locking to prevent race conditions with the running BBS.","status":"closed","priority":1,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-20T22:08:50.3512655Z","created_by":"RobbieW","updated_at":"2026-02-20T22:14:53.427451635Z","closed_at":"2026-02-20T22:14:53.427451635Z","close_reason":"Closed","labels":["feature"]}
{"id":"vision3-p39","title":"Phase 5: Add 'jamutil toss' command","description":"Add 'toss' command to cmd/jamutil/main.go that:\n1. Loads ftn.json config (all configured networks)\n2. Creates DupeDB from configured duplicate_db_path \n3. Creates MessageManager for area lookups\n4. For each enabled network: instantiates Tosser, calls ProcessInbound() (with bundle unpacking from Phase 2)\n5. Reports toss results: packets processed, messages imported, dupes skipped, errors\n\nCLI: jamutil toss [--config DIR] [--network NAME]\n  --network NAME: limit to a single network (default: all enabled networks)\n  --dry-run: report what would be tossed without writing to JAM\n\nReplaces: hpt toss -c {config}","status":"in_progress","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T13:59:58.394175406Z","created_by":"RobbieW","updated_at":"2026-02-21T14:06:02.00422849Z","labels":["ftn","jamutil"],"dependencies":[{"issue_id":"vision3-p39","depends_on_id":"vision3-vzt","type":"blocked-by","created_at":"2026-02-21T13:59:58.398400382Z","created_by":"RobbieW"},{"issue_id":"vision3-p39","depends_on_id":"vision3-dkn","type":"blocks","created_at":"2026-02-21T13:59:58.400541995Z","created_by":"RobbieW"},{"issue_id":"vision3-p39","depends_on_id":"vision3-ael","type":"blocks","created_at":"2026-02-21T13:59:58.403109118Z","created_by":"RobbieW"}]}
{"id":"vision3-pwt","title":"Prompt user on terminal size change at login","description":"When a returning user logs on and the detected PTY terminal size differs from their stored screenWidth/screenHeight, prompt: 'New terminal size detected: WxH. Use it? [y/N]' (lightbar). If yes, prompt: 'Update your defaults to this size? [Y/n]' (lightbar). Update user record if confirmed.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T17:05:31.681167403Z","created_by":"RobbieW","updated_at":"2026-02-19T17:12:50.123941281Z","closed_at":"2026-02-19T17:12:50.123941281Z","close_reason":"Closed"}
{"id":"vision3-q2u","title":"Idle timeout: add matrixIdleTimeout string to StringsConfig + strings.json files","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T15:48:51.742257911Z","updated_at":"2026-02-19T15:50:51.734151553Z","closed_at":"2026-02-19T15:50:51.734158333Z"}
{"id":"vision3-qy8","title":"Fix concurrency bug in allocateNodeIDForSession","description":"main.go line 92: activeSessions map accessed without lock during slot check. Race condition.","status":"closed","priority":1,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:38:30.641675622Z","created_by":"RobbieW","updated_at":"2026-02-19T19:39:38.025353632Z","closed_at":"2026-02-19T19:39:38.025353632Z","close_reason":"Closed"}
{"id":"vision3-r65","title":"Fix compose flow using raw termWidth/termHeight","description":"message_scan.go ~line 403: runComposeMessage called with raw termWidth/termHeight instead of resolved tw/th values.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:45:28.014304826Z","created_by":"RobbieW","updated_at":"2026-02-19T19:46:46.562651039Z","closed_at":"2026-02-19T19:46:46.562651039Z","close_reason":"Closed"}
{"id":"vision3-rjs","title":"Implement configurable login sequence system","description":"Implemented comprehensive configurable login sequence with support for custom commands, security levels, and external scripts.\n\nRelated commits:\n- e1644b6: Enhance fast login feature with optional inline menu\n- f32aa06: Implement configurable login sequence execution\n- 56867c6: Enhance login pause prompt to support CP437 encoding\n- e65dc99: Implement configurable login sequence\n\nFeatures:\n- Custom login command sequences\n- Security level checks\n- Fast login support with inline menu\n- CP437 encoding support for login prompts\n- External script execution","status":"closed","priority":2,"issue_type":"feature","owner":"robbiew@gmail.com","created_at":"2026-02-13T13:03:27.506771451Z","created_by":"RobbieW","updated_at":"2026-02-13T13:04:07.541898887Z","closed_at":"2026-02-13T13:04:07.541898887Z","close_reason":"Closed"}
{"id":"vision3-s3k","title":"Repo-wide encoding invariants audit and checklist doc","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-13T20:07:31.980100545Z","created_by":"RobbieW","updated_at":"2026-02-13T20:08:40.69083996Z","closed_at":"2026-02-13T20:08:40.69083996Z","close_reason":"Closed"}
{"id":"vision3-sxr","title":"Fix CP437 arrow bytes in help text for UTF-8 mode","description":"message_list.go line 257: helpText embeds \\x18/\\x19 CP437 arrow bytes that render as control chars in UTF-8 mode.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:45:28.932731767Z","created_by":"RobbieW","updated_at":"2026-02-19T19:48:33.305254095Z","closed_at":"2026-02-19T19:48:33.305254095Z","close_reason":"Closed"}
{"id":"vision3-tov","title":"VIS-11: Externalize hardcoded strings to strings.json","status":"closed","priority":2,"issue_type":"feature","owner":"jim.mcbride@gmail.com","created_at":"2026-02-16T00:33:00.00614-06:00","created_by":"Jim McBride","updated_at":"2026-02-16T01:28:47.083271-06:00","closed_at":"2026-02-16T01:28:47.083271-06:00","close_reason":"All 9 tasks complete. 373 strings externalized to configs/strings.json with 382 StringsConfig fields. Core user-facing strings in all menu files replaced with e.LoadedStrings references. Admin UI strings (user editor, validation browser) deferred to future work."}
{"id":"vision3-tx1","title":"transfer: Add context + timeout + process kill to RunCommandDirect and RunCommandWithPTY","description":"RunCommandDirect (sexyz path) and RunCommandWithPTY both block on cmd.Wait() until the child process exits. Add context.Context support so transfers can be cancelled and timed out.\n\nREQUIRED:\n- Add ctx context.Context to RunCommandDirect and RunCommandWithPTY\n- Use exec.CommandContext instead of exec.Command so process is killed when ctx.Done() fires\n- When ctx is cancelled: kill process (cmd.Process.Kill or SIGTERM), close stdin pipe, fire SetReadInterrupt, return ctx.Err()\n- Add optional timeout (e.g. select on ctx.Done() vs cmd.Wait(), or derive timeout ctx from parent)\n\nFiles: internal/transfer/zmodem.go","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T19:45:00Z","created_by":"RobbieW","updated_at":"2026-02-23T19:45:00Z","labels":["sexyz","transfer"]}
{"id":"vision3-tx2","title":"transfer: Add context to ExecuteSend/ExecuteReceive + configurable transfer_timeout","description":"Thread context through the protocol layer and add configurable transfer timeout.\n\nREQUIRED:\n- Add ctx context.Context to ProtocolConfig.ExecuteSend and ExecuteReceive\n- Add transfer_timeout_minutes (or similar) to ServerConfig, default 30-60 min\n- Pass context.WithTimeout(ctx, timeout) when calling RunCommandDirect/RunCommandWithPTY\n- Update all callers: executor.go, file_lightbar.go, ziplab viewer to pass session/request context\n\nFiles: internal/transfer/protocol.go, internal/config/config.go, internal/menu/executor.go, internal/menu/file_lightbar.go, internal/ziplab/viewer.go","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T19:45:00Z","created_by":"RobbieW","updated_at":"2026-02-23T19:45:00Z","labels":["config","transfer"]}
{"id":"vision3-tx3","title":"transfer: Wire session context for cancel-on-disconnect","description":"Ensure transfer contexts cancel when the connection drops. Session handlers must pass a context that cancels on disconnect.\n\nREQUIRED:\n- For Telnet: TelnetSessionAdapter has ctx with cancel on Close — expose Context() or pass to transfer layer when available\n- For SSH: derive context from request (gliderlabs/ssh) or create one that cancels when channel closes\n- SessionHandler / InputHandler paths that invoke ExecuteSend/ExecuteReceive must pass this context\n\nPrevents stuck transfers when user disconnects without proper ZModem shutdown.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-23T19:45:00Z","created_by":"RobbieW","updated_at":"2026-02-23T19:45:00Z","labels":["session","transfer"]}
{"id":"vision3-tx4","title":"Fix uint16 overflow for door PTY dimensions","description":"door_handler.go line 683: ScreenHeight/Width cast to uint16 without validation. Negative or large values wrap.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:45:32.91880522Z","created_by":"RobbieW","updated_at":"2026-02-19T19:48:33.750413316Z","closed_at":"2026-02-19T19:48:33.750413316Z","close_reason":"Closed"}
{"id":"vision3-tym","title":"Fix auto-save terminal dims bypassing setup prompt","description":"main.go lines 1221-1230: auto-saving PTY dims before setup prompts causes needsSetup=false, skipping prompt.","status":"closed","priority":1,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:38:34.32711938Z","created_by":"RobbieW","updated_at":"2026-02-19T19:41:12.518242132Z","closed_at":"2026-02-19T19:41:12.518242132Z","close_reason":"Closed"}
{"id":"vision3-uzr","title":"Implement hot reload for configuration files","description":"Add file watching and automatic reload for doors.json, login.json, strings.json, theme.json, and server.json. Enables config changes without server restart.","status":"closed","priority":2,"issue_type":"feature","owner":"robbiew@gmail.com","created_at":"2026-02-13T13:41:30.953879507Z","created_by":"RobbieW","updated_at":"2026-02-13T13:41:48.910382034Z","closed_at":"2026-02-13T13:41:48.910382034Z","close_reason":"Implemented ConfigWatcher with fsnotify for automatic config reload. Added thread-safe setter/getter methods to MenuExecutor. Configs reload within 500ms. Added XNEWS door to login sequence."}
{"id":"vision3-v8x","title":"Add @I: to new-format detection in editor/screen.go","description":"editor/screen.go line 196: isEditorNewFormat checks @I@, @I#, @I| but not @I:. Templates with only @I:NN@ misclassified.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-19T19:45:31.015191796Z","created_by":"RobbieW","updated_at":"2026-02-19T19:48:33.536015261Z","closed_at":"2026-02-19T19:48:33.536015261Z","close_reason":"Closed"}
{"id":"vision3-vsr","title":"Last Callers: retrograde parity + template/MCI improvements","description":"Implemented Last Callers enhancements: optional caller count via RUN:LASTCALLERS \u003cn\u003e, LC key alias, Retrograde ANSI header/footer adoption, SAUCE stripping, broken-bar delimiter normalization, @ token engine with width support, @USERCT@ global token, configurable timezone via config/env, and compact/aligned template spacing. Added NOTE/NT token support for user private note display with width limits.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-13T16:49:15.083146121Z","created_by":"RobbieW","updated_at":"2026-02-13T17:15:43.653400316Z","closed_at":"2026-02-13T17:15:43.653400316Z","close_reason":"Closed"}
{"id":"vision3-vzr","title":"Implement JAM message purge by age/count - add max_msgs/max_msg_age to message_areas.json, purge logic, event scheduler integration","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-20T03:25:41.461300521Z","created_by":"RobbieW","updated_at":"2026-02-20T03:30:43.562106378Z","closed_at":"2026-02-20T03:30:43.562106378Z","close_reason":"Closed"}
{"id":"vision3-vzt","title":"Phase 1: Update ftn.json with full tosser network config","description":"Update configs/ftn.json to include full per-network tosser configuration: own_address, inbound_path, outbound_path, temp_path, binkd_outbound_path, links (with echo_areas and passwords). Currently ftn.json only has network tearlines. The FTNNetworkConfig struct already has these fields but ftn.json doesn't populate them. Also add duplicate_db_path field for dupe history.","status":"in_progress","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T13:58:32.358004768Z","created_by":"RobbieW","updated_at":"2026-02-21T14:01:52.97917475Z","labels":["config","ftn"],"dependencies":[{"issue_id":"vision3-vzt","depends_on_id":"vision3-ael","type":"blocks","created_at":"2026-02-21T13:58:32.361022715Z","created_by":"RobbieW"}]}
{"id":"vision3-w2s","title":"Add delete user action to admin list","description":"Add a new keyboard action (e.g., '9') in runAdminListUsers to mark a user for deletion. Update the action bar to show the delete option alongside the ban option. This should set pendingChanges for 'deleted' field.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-14T00:34:54.490061337Z","created_by":"RobbieW","updated_at":"2026-02-14T00:42:05.973496983Z","closed_at":"2026-02-14T00:42:05.973496983Z","close_reason":"Closed","labels":["feature"]}
{"id":"vision3-w9u","title":"Update cmd/helper ftnsetup to write new ftn.json fields","description":"The cmd/helper ftnsetup command imports .na files and writes ftn.json, but its local ftnNetworkConfig struct is missing two new fields added in the FTN tosser refactor:\n  - secure_inbound_path (json: secure_inbound_path)\n  - binkd_outbound_path (json: binkd_outbound_path)\n\nUpdate the local struct in cmd/helper/main.go to include these two fields with appropriate JSON tags (matching FTNNetworkConfig in internal/config/config.go).\n\nWhen generating the network config during ftnsetup, populate:\n  - secure_inbound_path: 'data/ftn/secure_in' (same default as main ftn.json)\n  - binkd_outbound_path: 'data/ftn/out' (same default as main ftn.json)\n\nAlso consider whether the local struct should be replaced with a direct import of config.FTNConfig to avoid the struct drift going forward.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T14:12:50.451720565Z","created_by":"RobbieW","updated_at":"2026-02-21T14:41:14.762874336Z","closed_at":"2026-02-21T14:41:14.762874336Z","close_reason":"Closed","labels":["config","ftn"]}
{"id":"vision3-wga","title":"Implement read interrupt mechanism for door programs and telnet sessions","description":"Implemented clean I/O shutdown mechanism for door programs using read interrupts. This allows proper cleanup when door programs terminate, preventing hung connections.\n\nRelated commits:\n- 7a619b2: Implement read interrupt for telnet sessions\n- 3a33775: Implement read interrupt mechanism for clean I/O shutdown\n\nFiles modified:\n- internal/menu/door_handler.go\n- Connection handling for telnet sessions","status":"closed","priority":2,"issue_type":"feature","owner":"robbiew@gmail.com","created_at":"2026-02-13T13:03:19.751482288Z","created_by":"RobbieW","updated_at":"2026-02-13T13:03:49.52429044Z","closed_at":"2026-02-13T13:03:49.52429044Z","close_reason":"Closed"}
{"id":"vision3-wn3","title":"fix: ReadPacketHeaderFromFile missing PktType validation","description":"internal/ftn/packet.go:135: ReadPacketHeaderFromFile returns header without checking hdr.PktType == PacketType2Plus. ReadPacket already validates this at line 172. Add matching validation so malformed/non-Type-2+ files are rejected early. (CodeRabbit PR #26)","status":"closed","priority":3,"issue_type":"bug","owner":"robbiew@gmail.com","created_at":"2026-02-23T13:59:15.151710355Z","created_by":"RobbieW","updated_at":"2026-02-23T14:17:07.275300869Z","closed_at":"2026-02-23T14:17:07.275300869Z","close_reason":"Closed","labels":["fix","ftn"]}
{"id":"vision3-x0k","title":"Docker: template events.json uses go run instead of compiled binaries","description":"Template events.json uses /usr/bin/go run for v3mail/helper commands. Go is not in the runtime Docker image. Should reference compiled binaries instead.","status":"closed","priority":2,"issue_type":"bug","owner":"robbiew@gmail.com","created_at":"2026-02-21T15:51:20.311612443Z","created_by":"RobbieW","updated_at":"2026-02-21T16:08:05.554793511Z","closed_at":"2026-02-21T16:08:05.554793511Z","close_reason":"Closed"}
{"id":"vision3-xh8","title":"VIS-54 + VIS-51: System Stats \u0026 Message Reader Footer","status":"closed","priority":2,"issue_type":"feature","owner":"jim.mcbride@gmail.com","created_at":"2026-02-15T22:30:20.587997-06:00","created_by":"Jim McBride","updated_at":"2026-02-15T23:00:06.384245-06:00","closed_at":"2026-02-15T23:00:06.384245-06:00","close_reason":"VIS-54 + VIS-51 implemented, PR #19 created"}
{"id":"vision3-xix","title":"Idle timeout: add ReadKeyWithTimeout to InputHandler in editor/input.go","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-19T15:48:51.601230722Z","updated_at":"2026-02-19T15:49:43.852718726Z","closed_at":"2026-02-19T15:49:43.852725075Z"}
{"id":"vision3-zos","title":"Phase 4: Persist export high-water mark across restarts","description":"The export high-water mark (exportHighWater map[int]int in tosser) tracks which messages have been scanned for export to avoid re-scanning from msg 1 on every restart. Currently this is in-memory only and lost on process exit.\n\nPersist the high-water mark to a JSON file (e.g., data/ftn/export_hwm.json) so that when jamutil scan is run again, it resumes from where it left off.\n\nFile format: { \"network_name\": { \"area_id\": last_msg_num } }\nLoad on Tosser creation, save after each ScanAndExport cycle.","status":"in_progress","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-21T13:59:38.791463774Z","created_by":"RobbieW","updated_at":"2026-02-21T14:02:57.780167539Z","labels":["ftn","tosser"],"dependencies":[{"issue_id":"vision3-zos","depends_on_id":"vision3-vzt","type":"blocked-by","created_at":"2026-02-21T13:59:38.795330852Z","created_by":"RobbieW"},{"issue_id":"vision3-zos","depends_on_id":"vision3-ael","type":"blocks","created_at":"2026-02-21T13:59:38.797154019Z","created_by":"RobbieW"}]}
{"id":"vision3-zwd","title":"Implement event scheduler for timed script/program execution","description":"Design and implement an event scheduler that can fire off events (scripts, programs) on a timed basis. Examples: polling binkd hub, running hpt scan, nightly maintenance. Requirements: JSON config in configs/, best practice scheduling, comprehensive logging.","status":"closed","priority":2,"issue_type":"task","owner":"robbiew@gmail.com","created_at":"2026-02-11T14:00:27.804537021-08:00","created_by":"Robbiew","updated_at":"2026-02-13T17:15:43.765232482Z","closed_at":"2026-02-13T17:15:43.765232482Z","close_reason":"Closed"}
